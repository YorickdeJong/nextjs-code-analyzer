

set(INCLUDE_DIR "${PROJECT_SOURCE_DIR}/include")

# This is tests/CMakeLists.txt


# Include Google Test's include directory, if needed
include_directories(${gtest_SOURCE_DIR}/include ${gtest_SOURCE_DIR})

target_include_directories(reporter PUBLIC 
    ${FOLDER_SOURCE_DIR}/include
    ${INCLUDE_DIR} # Makes header files available
    ${PROJECT_SOURCE_DIR}/src/reader # Makes CPP files available
    ${PROJECT_SOURCE_DIR}/src/reporter # Makes CPP files available
    ${PROJECT_SOURCE_DIR}/src/analysis
    ${PROJECT_SOURCE_DIR}/external/json/single_include
)

# Add test executable
add_executable(analysis_test analysis_test.cpp)
add_executable(reporter_test reporter_test.cpp)

# Link against Google Test and any other libraries
target_link_libraries(analysis_test gtest gtest_main analysis)
target_link_libraries(reporter_test gtest gtest_main reporter analysis)

# Add the test to CTest's test suite
add_test(NAME json_reader_test COMMAND json_reader_test)

